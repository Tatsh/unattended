** Changes in version 3.3 (2003-Nov-07)

(NOTE: This release introduces numerous small changes to the directory
layout on the "install" share.  Most of these were needed for i18n.
This should be the last such rearrangement for a while.)

Add DOS drivers for Broadcom 440x (b44), DEC/Intel Tulip (dc21x4),
NatSemi MACPHYTER (dp83815), VIA Rhine (fetnd), and Netgear FA310
(ngrpci).  Remove Netgear 311/312 (fa31x), since it is superseded by
dp83815 (in theory).

Update rtsnd.dos and b57.dos to latest versions from vendors.

Use compressed (.imz) floppy images on CD-ROM.

Fix bootdisk/Makefile to work on Cygwin.  Finally, the bootdisk images
can be regenerated on Windows.

Offer all network drivers during PXE boot, since sometimes the
"universal" driver does not work right.

Finish i18n support, more or less.  Right now we have English
(Z:\scripts\enu) and Dutch (Z:\scripts\nld) AutoIT scripts; thanks to
Niels de Groot for the latter.  Additional translations are welcome.

Update Windows Messenger installation script for 5.0.

Improve documentation, especially html/advanced.html.  We still have a
long way to go...

Rewrite OpenOffice.org installation instructions.  Thanks to Remco
Jager.

Update install/check script.  We really need to document this one
someday :-).

Add Abort/Retry/Ignore logic to todo.pl.

New script: install/bin/winxpsp1-notips.pl.  This has examples for how
to configure everything you want and many things you don't.  The
entire script is commented out for now while we decide what we want by
default.

Add new settings [_meta]/middle and [_meta]/bottom (similar to
[_meta]/top) for controlling optional scripts and "cleanup" scripts,
respectively.  Add new setting [_meta]/fdisk_confirm, defaulting to
"true", to control prompting for confirmation before partitioning the
drive.

Do not require quotes around strings containing characters \x80
through \xFF in .ini files, because Spanish and French Windows CDs use
such characters for "Localization" in i386/prodspec.ini, causing us to
choke.  Thanks to Oriol de Los Santos.

Recognize a bunch more Windows Pid values.

Add latest round of Microsoft updates for all OSes.


** Changes in version 3.2 (2003-Oct-19)

(NOTE: This release introduces an "updates" directory on the install
share.  Now Z:\packages only contains pristine installers, while all
updates live under Z:\updates.  This means you will have to rename a
bunch of stuff, but the result is a much cleaner layout.)

Add support for installing Windows Server 2003, with WINVER value of
"ws2k3".

Move all updates to Z:\updates, and modify scripts to match.

Fill out language table in todo.pl.  Thanks to Niels de Groot.

Disable XP's "system restore" feature during OS, hotfix, and
application installation.

Add support for Broadcom BCM57xx family of network adapters.

Adapt HTML pages to SourceForge's new scheme for CVSweb links.

Do not echo password while mapping Z: drive.

Remove a bunch of packages from base.bat and make them "optional",
including OpenOffice.org, 7-zip, TightVNC, and Mozilla.

Add latest round of win2k and winxp updates.  This includes
<http://support.microsoft.com/?kbid=826939>, which replaces 22 other
hotfixes.


** Changes in version 3.1 (2003-Sep-21)

Dynamically generate list of post-install scripts from
specially-formatted comments in the first line.  Allow selection of
one "master" script and zero or more "optional" scripts.  Thanks to
Shad Lords and Jose Diaz for ideas and code.

Add [_meta]/z_drive parameter for using a different letter than Z: for
mapping install share.  Add "Z" environment variable for commands
invoked by todo.pl.  Replace Z: with %Z% in all installation scripts.

Take initial crack at i18n support (thanks to Eugene Kotlyarov).
Recognize and report language of OS media.  Have todo.pl set WINLANG
environment variable to the three-letter abbreviation for the OS
language (e.g., "enu").  Modify the -updates.bat scripts to use
%WINLANG% in hotfix file names.

Use lowercase default password for mapping install share.

Use /persistent:no when mapping Z: drive.

Disable "Internet Connection Wizard" in win2ksp4-notips.pl.  Thanks to
Eugene Kotlyarov.

Increase choices per page in install.pl to 8.


** Changes in version 3.0 (2003-Sep-14)

NOTE: This release has many changes.  You will need to refresh your
install share (Z: drive) and your boot disk.

Add support for using arbitrary username, password, and share name for
mapping Z: drive.

Make Windows 2000 work again.

Eliminate calls to get_value, set_value, etc. in favor of direct
access to $u object in install.pl.  The old functions are now
deprecated and will whine (but still work) if called.

Make "--day" and "--time" options to auconfig.pl actually work.  Add
"--remote" option.

Add full automation for autoexec.bat.  Thanks to Godfrey in New
Zealand.

Add support for recognizing Russian Windows media.  Thanks to Eugene
Kotlyarov.

Make name of "Administrators" group configurable via
[_meta]/local_admin_group.  Useful for installing non-English (e.g.,
Russian) systems.  Thanks to Eugene Kotlyarov.

Add latest round of 2000 and XP hotfixes.

Add latest Office XP hotfixes.

Sync with version 8.2 of Intel DOS drivers (e100b.dos, e1000.dos).

Sync with SYSLINUX 2.06.


** Changes in version 2.8 (2003-Aug-24)

(NOTE: There are many patches and to-do items still in the queue, but
it has been long enough so we are releasing anyway.  Windows 2000
support has probably atrophied somewhat since none of us use it
regularly anymore.  Patches and bug reports always welcome.)

Add maptodo.pl script, which maps the Z:\ drive before running
todo.pl.  Rewrite dosbin\install.pl and bin\todo.pl to invoke it.
This works around XP bug where "persistent" share mappings sometimes
fail.

Use "%%WINVER%%" instead of "%WINVER%" to delay variable expansion
until after service pack has been applied.

Add .cvsignore files everywhere.

Add rest of XP updates (DirectX 9, Media Player 9, Windows Journal
Viewer, .NET Framework).

New scripts powertoys.bat and winxpsp1-recommended.bat.  Not invoked
by default, but there for people who want even non-critical stuff.

Drop PXELINUX timeout for booting from hard disk to 30 seconds.

Upgrade e100b and e1000 DOS drivers to latest Intel release.

Set PREFERREDREDIR and AUTOSTART to BASIC (instead of FULL) in
system.ini, to make full automation easier.

Add new scripts instances.pl, srconfig.pl, rdconfig.pl, and cert.pl.
Improve shortcut.pl.  Document some of them in apps.html.

Use srconfig.pl to disable XP "System Restore" functionality during
base hotfix and application installation.

Add .NET Framework instructions to installers.html.  Update
section on OpenOffice.

Fix links all over the place.

Rename vnc.bat to tightvnc.bat, to ruffle fewer feathers.


** Changes in version 2.7a (2003-Jul-07)

Fix lurking bug in todo.pl; use ($ret >> 8) instead of ($ret / 256)
because we want an integer.

Fix bug where multi_choice() would return undef instead of an empty
list when called with no arguments.  This had the side-effect of
always prompting about "RETAIL" drivers.  Thanks to Shad Lords.

Add new "lang_dirs" method to Unattend::WinMedia.  Use it to set
/rx:... option to winnt.exe.  This effectively adds support for
[RegionalSettings]; see
<http://www.microsoft.com/globaldev/reference/win2k/setup/specify.mspx>.

Edit Unattend::IniFile::force() method to recognize recursion when
forcing promises, and to return undef when it happens.  This makes the
recursion bottom out, which mostly does what you want...

Rewrite ProductKey and ProductID to be mutually recursive.  Now if you
set either one, you will not be prompted for the other.

Add "JoinWorkgroup" question, and make it mutually recursive with
JoinDomain.  If you set either one, you will not be prompted for the
other.  Thanks to Shad Lords.

Fix crash when you set a value in [_meta] section but do not include
comments.  Thanks to Shad Lords.

Recognize Pid of 55274270 as Volume media.  Also, fix bug where we
printed '$pid' instead of the pid itself for unknown media (duh).
Thanks to Shad Lords.

Create new "fixtz.pl" script to work around daylight saving bug in XP
unattended installation.  Invoke it from base.bat.

Fix bugs in sshd.bat script.


** Changes in version 2.7 (2003-Jul-06)

NOTE: This release has many changes.  You will need to refresh your
install share (Z: drive) and your boot disk.  You will also need to
move your OS media directories (Z:\winxp, Z:\win2ksp4, etc.) to live
under Z:\os.

Create module Unattend::WinMedia to hold all knowledge about Windows
installation media.  This module knows how to detect Windows version,
service pack, and media type (retail, OEM, volume).  Also knows how to
grovel $OEM$/$1 for drivers and how to parse TXTSETUP.OEM for text
mode drivers.

Use new WinMedia module to automatically recognize all OS media
directories when offering selection of operating systems.

Move OS media directories to live under Z:\os instead of at Z: root.
Change os.html page to reflect new layout.  Aside from being cleaner,
this layout makes it less expensive/dangerous to scan all directories
looking for media.

New parameter [_meta]/edit_files.  Set to 0 to skip question about
editing files.  Useful for fully unattended installs.

Add support for auto-generating [MassStorageDrivers] and
[OEMBootFiles] sections, based on contents of $OEM$/TEXTMODE.  See
<http://support.microsoft.com/?kbid=288344> and
<http://sourceforge.net/mailarchive/message.php?msg_id=5410366>.

Eliminate argument limit for menu_choice().  Create new function
multi_choice(), also with no argument limit.  Use these for
OemPnPDriversPath, [MassStorageDrivers], etc.

Redesign, again, the Unattend::IniFile interface.  I think I like the
design now; maybe I will even document it someday...

Add support for SiS 900 family of network adapters.

Remove hard-coded references to A: from various files (autoexec.bat,
system.in_, install.pl).  Goal is to be "boot drive agnostic", which
will help with several future projects.

Change instsrv.pl to set startup type to "Automatic" by default.

Add Adobe Reader section to installers.html.  Thanks to Nils Østbjerg.
(Documentation is good.  Must find more time to write docs.)

Restore support for [_meta]/ipaddr and [_meta]/macaddr, since some
people (including mr-russ) actually use them.

Various bug fixes.

** Changes in version 2.6 (2003-Jun-29)

NOTE: There are many changes in this release.  You will need to
refresh your install share (Z: drive) and your boot disk.

Replace unattend.txt parser/generator with generic .ini file
parser/generator.  Create modules Unattend::IniFile,
Unattend::FoldHash, and Unattend::Promise; bundle them in install/lib.
This is a complete overhaul of this critical substrate, although the
only visible effect should be fixing the long-standing bug for people
needing third-party SCSI drivers (see
<http://support.microsoft.com/?kbid=288344>).  Mostly, these new
modules make all sorts of interesting things possible in future
releases.

Fix bug in install.pl which could result in an empty
OemPnPDriversPath, which makes Windows Setup croak.  Thanks to Teresa
Jeremy.

Deprecate install/doslib in favor of install/lib.

Add support for Intel Pro/1000 adapter family.

Add section on Nullsoft Installer System (NSIS) to installers.html.
Thanks to David Nuttall.

Rewrite instsrv.pl to use WMI instead of instsrv.exe.  This eliminates
a dependency on the Windows Resource Kit, which Microsoft is no longer
maintaining.

Fix longstanding todo.pl bug which caused "undefined variable"
warnings with Perl 5.8.

Eliminate [_meta]/ipaddr and [_meta]/macaddr, since they seem to
create more problems than they solve.

Do not pass /o ("overwrite OEM files") flag to hotfix installers,
since it probably does more harm than good.

New scripts install/bin/shortcut.pl, install/scripts/adobe-reader.bat,
install/scripts/vsnet.{bat,aut}.

Update various installation scripts.

Sync with SYSLINUX 2.02.

Sync with FreeDOS fdisk 1.2.1.


*** Changes in version 2.5b (2003-Mar-11)

Fix long-standing bug where autoexec.bat would append a random number
to system.ini (to randomize hostname), which only works on the first
boot.  Although not a problem for CD and network-based installs, this
breaks for normal floppies.  Thanks to Scott Card.

Fix isoboot.msg to correctly describe timeout (two minutes, not five).
Also thanks to Scott Card.

Fix silly bug in path to "pico".  Thanks again to (wait for it...)
Scott Card.


*** Changes in version 2.5 (2003-Mar-09)

Use DJGPP Pico instead of FreeDOS edit.exe to edit files.  Document
this new requirement.

Automatically scan i386/$oem$/$1 looking for driver directories. Offer
to add any such directories to OemPnPDriversPath.

Always use upper-case for driver name in system.ini, since PCNet
driver requires it.

Add support for RealTek RTL8139 cards (untested).  Thanks to Eugene
Kotlyarov for the pointer.

Deal with annoying ipconfig.exe behavior, where it exits with various
statuses from 10 to 16.

When fdisk is run by hand, do not clobber partition table first and do
not replace first partition with 2G FAT partition afterwards.  In
other words, assume anybody running fdisk manually knows exactly what
they are doing.

Do not create postinst.bat unless it has something to do, and do not
set AutoLogon nor [GuiRunOnce]/Command0 unless we create postinst.bat.

Clean up various documentation.

Sync with SYSLINUX 2.02.

Sync with FreeDOS fdisk 1.1.4 beta.


*** Changes in version 2.4 (2003-Feb-10)

Recognize Windows XP Professional OEM (winxpoem) as a separate
operating system when offering choice of OS to install.  Document
Microsoft's lack of slipstreaming support for this OS.  Thanks to
Scott Card.

Add support for AMD PCNet cards, so that we can work with VMware
(untested).

Sync with SYSLINUX 2.01.

Bundle AutoIt v2.64, because it is a good tool, because it is small,
and because I seem to be writing more and more .aut scripts these
days.

Create and document with-env.pl script.  Run it with --help for
details.

Bundle ipconfig.exe from MSCLIENT.  Use it in install.pl to determine
IP address.

Create install/doslib/csv.pl module, which implements a class for
parsing comma-separated-value (CSV) files.  Useful for automatically
looking up settings (like ComputerName, ProductKey) from a corporate
inventory spreadsheet.

Create and document php.bat and php.aut for installing PHP.

Create officexp.bat script for installing Office XP.  I guess I will
document this one later.

Create defrag.aut script for performing unattended disk drive
defragmentation.  Invoke it from base.bat before doing anything else,
to help compensate for the FAT->NTFS conversion.  I figure it cannot
hurt to coalesce the free space before installing stuff.

Create winxp-updates.bat script, which just applies Service Pack 1 and
then runs winxpsp1-updates.bat.  This is necessary for installing an
OEM version of XP, because slipstreaming does not work.  Thank you,
Microsoft!

Decrease timeout in isolinux.cfg from five minutes to two, and use
"localboot 128" to chain-boot the hard drive instead of the floppy.
Thanks to Scott Card.

Fix autolog.pl, again.  Run it with --help for details.

Implement and document .sleep directive for todo.pl, because I thought
I needed it for Mozilla.

Update documentation and script for installing Mozilla to include
"-ira" flag.  Thanks to Marcus Greil.

Add support for configuring NTP servers at installation time.

Create push_value function in unattend.pl.  This is like set_value,
but it "remembers" the old value in case the new one is undef (or is a
procedure which returns undef).  Very handy for advanced
configuration, which I really am going to document some day.

Loosen key=value regexp, for the poor souls who have to deal with
adding textmode OEM SCSI drivers.

Add latest round of 2000 and XP hotfixes.


*** Changes in version 2.3 (2002-Dec-18)

Generate iso/isolinux/isolinux.bin from read-only copy instead of
shipping it, because mkisofs mutates it.

Several minor documentation changes, plus a full rewrite of the
"Office 2000" section of installers.html.

Fix cosmetic bug converting unattend.txt entries to lower-case.

Fix bug causing machine to reboot an extra time after completing
installation.

Add "UnattendSwitch=Yes" to default unattend.txt, to prevent "Out of
Box Experience" garbage from running during XP installation.  Thanks
to Paul Baumgardner.

Rename office.bat to office2k.bat, and add latest updates.

Add latest round of Win2kSP3 hotfixes.


*** Changes in version 2.2 (2002-Dec-15)

Alter Makefile to always write .tmp files and rename them into place
when generating images.  This may help some people who have had
trouble regenerating the images, and it is good technique anyway.

Create and document new auconfig.pl script, which provides a
command-line interface to configure Automatic Updates.  Use it in
base.bat.

Add documentation for LeechFTP, NAI Virus Scan, SecureCRT, and
Timbuktu Pro installers.  Thanks to Trask Rogers.

Add first pass at documentation for OpenOffice.org.  Too bad it
doesn't work, because the installer modifies the current user's
profile instead of the one in "All Users".

Rewrite autolog.pl script.  Now you can use it to set the default
logon name and domain even if you are not configuring automatic logon
itself.

Fix some bugs in install.pl.  Add new [_meta]/autolog parameter to
control invocation of autolog.pl after installation finishes.

Update IE6SP1 and Win2kSP3 hotfixes.


*** Changes in version 2.1 (2002-Nov-10)

Create and document setenv.pl script.  Use it in Cygwin/SSH scripts.

In install.pl, only reboot machine if partition table changes.
Moving ever closer to total non-interaction...

Update win2ksp3-hotfixes.pl.

Add support for Netgear FA311/FA312 network cards.

Fix various minor bugs.

Overhaul documentation for InstallShield.

Import version 2.0 of SYSLINUX binaries.


*** Changes in version 2.0 (2002-Oct-22)

Complete rewrite of install.sh in Perl.  Now it is install.pl, and it
requires that the user install the DJGPP Perl port.  This allows
vastly more flexible site-specific configuration.

If you use version 1.x, you should re-read the OS installation page
(os.html), since it has been rewritten almost from scratch to describe
the new system.

Application installation is unchanged.


*** Changes in version 1.1.2 (2002-Oct-02)

Fix handling of "run fdisk interactively" option.

Remove "TargetPath=\WINNT" because it is redundant, and because it is
not actually the default for XP.

Rewrite startup-type.pl to use WMI interface instead of hacking
registry directly.


*** Changes in version 1.1.1 (2002-Oct-01)

Add and document Z_PATH environment variable for todo.pl.

Create and document shutdown.pl.

Add MSDN library to installers.html and create msdn.bat script.


*** Changes in version 1.1.0 (2002-Sep-30)

Create and document install/site directory.

Add and document .ignore-err directive to todo.pl.

Change todo.pl line endings from \n to \r\n.

Update hotfixes in sample scripts.


*** Changes in version 1.04 (2002-Sep-28)

Rewrite lots of documentation.


*** Changes in version 1.03 (2002-Sep-27)

Add all current hotfixes to winxpsp1-updates.bat.


*** Changes in version 1.02 (2002-Sep-27)

Create winxpsp1-updates.bat script, which installs hotfixes for
Windows XP Sevice Pack 1.

Add more documentation for install.sh script.

Rewrite "add domain accounts to local Administrators group" section of
install.sh.
